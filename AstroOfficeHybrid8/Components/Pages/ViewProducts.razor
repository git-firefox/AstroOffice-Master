@page "/products"
@page "/products/{CategorySno}/{CategoryName}"

@inject IJSRuntime JSRuntime
<PageLayout Title="Shop">
   @*  <RightContainer>
        <MudIconButton OnClick="viewProducts.OnClick_BtnFilter" Color="Color.Primary" Icon="@Icons.Material.Filled.FilterAlt" Class="d-flex d-sm-none" Style="background-color:white; height: 40px; width: 40px;"></MudIconButton>
    </RightContainer> *@
    <ChildContent>
        <AstroOfficeWeb.Components.ProductComponents.ViewProducts IsDataUrl="true" @ref=viewProducts EventCallback="OnClick_BtnFilter" CategoryName="@CategoryName" CategorySno="@CategorySno" CurrentPage="@CurrentPage"></AstroOfficeWeb.Components.ProductComponents.ViewProducts>
    </ChildContent>
</PageLayout>


@code {
    [Parameter]
    public string? CategorySno { get; set; } = null;
    [Parameter]
    public string? CategoryName { get; set; } = null;

    [Parameter]
    public int CurrentPage { get; set; } = 1;

    AstroOfficeWeb.Components.ProductComponents.ViewProducts viewProducts = null!;

    bool isOpened = true;
    private async void OnClick_BtnFilter(bool isOpen)
    {
        if (isOpen)
        {
            await JSRuntime.InvokeVoidAsync("eval", "document.getElementsByClassName('categories')[0].style.left = '0px'");
            isOpened = false;
        }
        else
        {
            await JSRuntime.InvokeVoidAsync("eval", "document.getElementsByClassName('categories')[0].style.left = '-500px'");
            isOpened = true;
        }
    }
}