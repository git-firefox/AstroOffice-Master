@page "/manage-products/{Mode}/product"
@page "/manage-products/{Mode}/product/{Sno:long}/{Name}"

@attribute [Authorize(Roles = "Admin,User,ManageProduct")]

<FluidPageLayout Title=@_title>
    <ChildContent>
        <AstroOfficeWeb.Components.ProductComponents.SaveProduct Sno="Sno" Mode="_mode" Name="@Name" />
    </ChildContent>
</FluidPageLayout>

@code
{
    [Parameter]
    public long Sno { get; set; } = 0;

    [Parameter]
    public string Mode { get; set; } = "add";

    [Parameter]
    public string? Name { get; set; }

    string _title = "";
    string? _titleHeader;
    ActionMode _mode;

    protected override void OnInitialized()
    {
        _mode = Enum.Parse<ActionMode>(Mode, true);
        if (_mode == ActionMode.Edit)
        {
            _title = "Edit Product";
        }
        else
        {
            _title = "Add Product";
        }
    }
}
