@page "/my-orders"

@using AstroOfficeWeb.Services


@inject IJSRuntime JSRuntime
@inject ProductService ProductService
@inject NavigationManager NavigationManager
@*
<ContainerFluid HeaderTitle="My Orders">

    <ChildContent> *@

    @if (OrderDTOs == null)
    {

    }
    else if (OrderDTOs.Any())
    {
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-5">
            @foreach (var order in OrderDTOs)
            {

                @foreach (var orderItem in order.OrderItems)
                {
                    <div class="col">
                        <div class="card order-card" @onclick="() => OnClick_DivElement(order)">
                            <div class="card-header order-card-header">
                                Order ID: @order.OrderId
                            </div>
                            <div class="product-image">

                                <img style="border-radius: 10%" src="@orderItem.ProductImageSrc" alt="@orderItem.ProductName" title="@orderItem.ProductName">
                            </div>
                            <div class="card-body">
                                <h5 class="card-title">@orderItem.ProductName</h5>
                                <div class="row">
                                    <div class="col-6">
                                        <div class="content-section">
                                            <span class="icon">&#128197;</span>
                                            <span class="caption-text">Placed on @order.Date?.ToString(format: "MMM dd, yyyy")</span>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="content-section">
                                            <span class="icon">&#128203;</span>
                                            <span class="caption-text">Quantity: @orderItem.ProductQuantity.ToString("N2")</span>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="content-section">
                                            <span class="icon">&#128176;</span>
                                            <span class="caption-text">Total Price: @((orderItem.ProductPrice * orderItem.ProductQuantity).ToString("N2"))</span>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="content-section">
                                            <span class="icon">&#128204;</span>
                                            <span class="caption-text">Shipping Address: @order.ShippingAddress</span>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="content-section">
                                            <span class="icon">&#128179;</span>
                                            <span class="caption-text">Payment Method: @order.PaymentMethod</span>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                }
            }
        </div>
    }
    else
    {
        <div class="row">
            <div class="col-md-12 d-flex justify-content-center">
                <div class="card shadow-none bg-transparent">
                    <div class="card-body text-light">
                        <div class="col-sm-12 text-warning text-center">
                        <h3 class="fas fa-clipboard-list"></h3>
                            <h3>Order list is empty.</h3>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    }

@*    </ChildContent>

</ContainerFluid> *@